var W=Object.defineProperty;var A=(r,t,e)=>t in r?W(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var v=(r,t,e)=>A(r,typeof t!="symbol"?t+"":t,e);import"./CWj6FrbW.js";import{p as L,d as k,f as $,b as g,c as E,t as b,e as C,r as y,a as w,l as f,ar as U,ad as X,h as P,B as j,as as H,s as N}from"./DnzG3wrM.js";import{s as M}from"./Duq_kkDy.js";import{p as x,i as O,a as R,b as Y,r as D}from"./BibeY9w6.js";import{e as T,b as q,i as B,a as S,s as F}from"./CgtX_bVI.js";import{p as I}from"./H0WuuVg_.js";import{g as Q,t as z}from"./BrTV-YYP.js";var G=b("<div> </div>"),J=b('<div class="flex items-center gap-2"></div>');function dt(r,t){L(t,!0);const e=x(t,"bgColor",3,"bg-secondary-500/40"),s=x(t,"color",3,"text-secondary-950-50");var i=k(),a=$(i);{var l=o=>{var n=J();T(n,21,()=>t.tags,B,(m,u)=>{var d=G(),c=C(d,!0);y(d),w(()=>{q(d,1,`${e()??""} ${s()??""} text-sm font-caveat rounded px-2 whitespace-nowrap`),M(c,f(u))}),g(m,d)}),y(n),g(o,n)};O(a,o=>{t.tags.length>0&&o(l)})}g(r,i),E()}var K=H(`<script src="https://giscus.app/client.js" data-repo="QuarkPixel/QuarkPixel.github.io" data-repo-id="R_kgDOOvxbEg" data-category="Announcements" data-category-id="DIC_kwDOOvxbEs4Crj-1" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-lang="en" crossorigin="anonymous" async>
		<\/script><!---->`,1),V=b("<div><!></div>");function ct(r,t){L(t,!0);const[e,s]=R(),i=()=>Y(z,"$themeMode",e),a=D(t,["$$slots","$$events","$$legacy","class"]);let l=U(X(`${I.url.origin}/assets/giscus/${Q()}.css`));P(()=>{j(l,`${I.url.origin}/assets/giscus/${i()}.css`,!0)}),P(()=>{const d=f(l),c=document.querySelector(".giscus-frame");c!=null&&c.contentWindow&&c.contentWindow.postMessage({giscus:{setConfig:{theme:d}}},"https://giscus.app")});var o=V();let n;var m=C(o);{var u=d=>{var c=K(),_=$(c);N(_),w(()=>F(_,"data-theme",f(l))),g(d,c)};O(m,d=>{f(l)&&d(u)})}y(o),w(()=>n=S(o,n,{class:`min-h-[372px] ${t.class??""}`,...a})),g(r,o),E(),s()}var Z=b("<span> </span>");function mt(r,t){const e=x(t,"class",3,""),s=D(t,["$$slots","$$events","$$legacy","text","class"]);var i=k(),a=$(i);T(a,17,()=>t.text,B,(l,o)=>{var n=Z();let m;var u=C(n,!0);y(n),w(()=>{m=S(n,m,{style:"word-break: keep-all; overflow-wrap: anywhere;",class:e(),...s}),M(u,f(o))}),g(l,n)}),g(r,i)}let h={selector:"[data-libra]",margin:50,offset:{x:0,y:0},transitionDuration:200,imageCursor:"zoom-in"};class tt{constructor(){let t=document.createElement("div");return t.id="libra-overlay",t.classList.add("libra-overlay","libra-hidden"),t.style.transitionDuration=h.transitionDuration+"ms",this.element=t,document.getElementsByClassName("sveltekit-body")[0].appendChild(t),this}show(){this.element.classList.remove("libra-hidden"),this.element.classList.add("libra-visible")}hide(){this.element.classList.remove("libra-visible"),this.element.classList.add("libra-hidden")}}class p{static calculateFinalState(t){let e={},s=h.margin,i=t.naturalWidth,a=t.naturalHeight,l=i/a,o=window.innerWidth-2*s,n=window.innerHeight-2*s;return e.width=i>o?o:i,e.height=i>o?o/l:a,e.height>n&&(e.height=n,e.width=n*l),e.top=(n-e.height)/2+window.scrollY+s+h.offset.y,e.left=(o-e.width)/2+window.scrollX+s+h.offset.x,e}static transformMatrix(t,e,s){let i=s.width/e.width,a=s.height/e.height,l=e.left+e.width/2,o=e.top+e.height/2,n=s.left+s.width/2,m=s.top+s.height/2;t.style.transform=`matrix(${i}, 0, 0, ${a}, ${n-l}, ${m-o})`}static resetTransformMatrix(t){t.style.transform="matrix(1, 0, 0, 1, 0, 0)"}}class et{constructor(t){v(this,"isOpen",!1);this.original=t;let e=this.original.getBoundingClientRect();return this.originalPosition={top:e.top+window.scrollY+h.offset.y,left:e.left+window.scrollX+h.offset.x,width:e.width,height:e.height},this.create(t),this}create(t){let e=document.createElement("img");e.src=t.src,e.id=`libra-shadow-${t.id}`,e.classList.add("libra-shadow"),e.style.top=`${this.originalPosition.top}px`,e.style.left=`${this.originalPosition.left}px`,e.style.width=`${this.originalPosition.width}px`,e.style.height=`${this.originalPosition.height}px`,e.style.transitionDuration=h.transitionDuration+"ms",document.body.appendChild(e),this.element=e}updateOriginalPosition(){let t=this.original.getBoundingClientRect();this.originalPosition={top:t.top+window.scrollY+h.offset.y,left:t.left+window.scrollX+h.offset.x,width:t.width,height:t.height}}open(){this.isOpen=!0,setTimeout(()=>{this.element.classList.add("open")}),this.updateOriginalPosition(),this.element.style.top=`${this.originalPosition.top}px`,this.element.style.left=`${this.originalPosition.left}px`,this.element.style.width=`${this.originalPosition.width}px`,this.element.style.height=`${this.originalPosition.height}px`,this.original.style.visibility="hidden",document.body.contains(this.element)||this.placeItself(),this.element.naturalWidth===0||this.element.naturalHeight===0?this.element.addEventListener("load",()=>{p.transformMatrix(this.element,this.originalPosition,p.calculateFinalState(this.element))},{once:!0}):p.transformMatrix(this.element,this.originalPosition,p.calculateFinalState(this.element))}close(){this.isOpen=!1,this.element.classList.remove("open"),p.resetTransformMatrix(this.element),setTimeout(()=>{this.original.style.visibility="visible",this.destroyItself()},h.transitionDuration)}placeItself(){document.body.appendChild(this.element)}destroyItself(){document.body.contains(this.element)&&document.body.removeChild(this.element)}}class gt{constructor(t){v(this,"currentImage",null);v(this,"shadows",{});(function e(s,i){for(let a in i)typeof i[a]!="object"||i[a]===null||Array.isArray(i[a])?s[a]=i[a]:(s[a]||(s[a]={}),e(s[a],i[a]));return s})(h,t),this.initOverlay(),this.initImages(),this.initControls()}initOverlay(){this.overlay=new tt,this.overlay.element.addEventListener("click",()=>{this.closeCurrent()})}initImages(){this.images=document.querySelectorAll(h.selector),this.images.forEach(t=>{t.tagName==="IMG"&&(t.id=crypto.randomUUID(),t.style.cursor=h.imageCursor,t.addEventListener("click",()=>this.open(t)))})}initControls(){document.addEventListener("keydown",t=>{(t.key==="Escape"||t.key===" ")&&this.closeCurrent()}),document.body.addEventListener("wheel",t=>this.closeCurrent()),document.body.addEventListener("touchmove",t=>this.closeCurrent())}open(t){this.currentImage=t;let e=this.shadows[t.id]||new et(t);this.shadows[t.id]||(this.shadows[t.id]=e),e.open(),this.overlay.show()}close(t){this.currentImage=null,this.shadows[t.id]&&(this.shadows[t.id].close(),this.overlay.hide())}closeCurrent(){this.currentImage&&this.close(this.currentImage)}}export{mt as B,ct as C,dt as T,gt as n};
