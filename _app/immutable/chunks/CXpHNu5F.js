var P=t=>{throw TypeError(t)};var b=(t,r,e)=>r.has(t)||P("Cannot "+e);var i=(t,r,e)=>(b(t,r,"read from private field"),e?e.call(t):r.get(t)),p=(t,r,e)=>r.has(t)?P("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(t):r.set(t,e),g=(t,r,e,s)=>(b(t,r,"write to private field"),s?s.call(t,e):r.set(t,e),e);import{a6 as D,az as v,P as w,j as M}from"./DFdCWIrp.js";const x=()=>performance.now(),a={tick:t=>requestAnimationFrame(t),now:()=>x(),tasks:new Set};function _(){const t=a.now();a.tasks.forEach(r=>{r.c(t)||(a.tasks.delete(r),r.f())}),a.tasks.size!==0&&a.tick(_)}function C(t){let r;return a.tasks.size===0&&a.tick(_),{promise:new Promise(e=>{a.tasks.add(r={c:t,f:e})}),abort(){a.tasks.delete(r)}}}function S(t){return Object.prototype.toString.call(t)==="[object Date]"}function F(t){return t}function G(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}function k(t,r){if(t===r||t!==t)return()=>t;const e=typeof t;if(e!==typeof r||Array.isArray(t)!==Array.isArray(r))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const s=r.map((n,o)=>k(t[o],n));return n=>s.map(o=>o(n))}if(e==="object"){if(!t||!r)throw new Error("Object cannot be null");if(S(t)&&S(r)){const o=t.getTime(),f=r.getTime()-o;return m=>new Date(o+m*f)}const s=Object.keys(r),n={};return s.forEach(o=>{n[o]=k(t[o],r[o])}),o=>{const h={};return s.forEach(f=>{h[f]=n[f](o)}),h}}if(e==="number"){const s=r-t;return n=>t+n*s}return()=>r}var c,l,d,u;const A=class A{constructor(r,e={}){p(this,c,D(void 0));p(this,l,D(void 0));p(this,d);p(this,u,null);i(this,c).v=i(this,l).v=r,g(this,d,e)}static of(r,e){const s=new A(r(),e);return v(()=>{s.set(r())}),s}set(r,e){var E;w(i(this,l),r);let{delay:s=0,duration:n=400,easing:o=F,interpolate:h=k}={...i(this,d),...e};if(n===0)return(E=i(this,u))==null||E.abort(),w(i(this,c),r),Promise.resolve();const f=a.now()+s;let m,j=!1,y=i(this,u);return g(this,u,C(O=>{if(O<f)return!0;if(!j){j=!0;const z=i(this,c).v;m=h(z,r),typeof n=="function"&&(n=n(z,r)),y==null||y.abort()}const q=O-f;return q>n?(w(i(this,c),r),!1):(w(i(this,c),m(o(q/n))),!0)})),i(this,u).promise}get current(){return M(i(this,c))}get target(){return M(i(this,l))}set target(r){this.set(r)}};c=new WeakMap,l=new WeakMap,d=new WeakMap,u=new WeakMap;let T=A;export{T,G as c,C as l};
